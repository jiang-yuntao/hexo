---
title: Java 笔记
tags: java
      jvm
categories: java
copyright: ture
description: java
---
### java对象内存存储布局
>1.对象头(header)
>2.实例数据(instance data)
>3.对齐填充(padding)
### GCRoots(作为起点的对象)的对象
>1.虚拟机栈（栈帧中的本地变量表）中引用的对象
>2.方法区中类静态属性引用的对象
>3.方法区中常量引用的对象
>4.本地方法栈中JNI（即一般说的Native方法）引用的对象

###  引用类型
* 强引用
>普遍存在
* 软引用
>还有用并非必要，发生内存溢出前，将这些对象列入回收范围之中进行第二次回收，如果还没有足够内存，会抛出异常，JDK1.2后，提供SoftReference类来实现软引用
* 弱引用
>弱引用描述非必需对象，强度比软引用更低，被弱引用关联的对象只能生存到下一次垃圾回收发生之前。JDk1.2之后，提供WeakReference类实现弱引用
* 虚引用
>亦称为幽灵引用或者幻影引用，最弱的引用关系。是否有虚引用对一个对象来说完全不会影响其生存时间构成影响，也无法通过虚引用来取得一个对象实例。设置虚引用唯一目的就是为了能在对象被收集时收到一个系统通知。JDK1.2之后，提供了PhantomReference类来实现虚引用
